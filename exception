import org.springframework.mail.SimpleMailMessage;

import org.springframework.mail.javamail.JavaMailSender;

import org.springframework.stereotype.Service;

@Service

public class EmailService {

    private final JavaMailSender mailSender;

    public EmailService(JavaMailSender mailSender) {

        this.mailSender = mailSender;

    }

    public void sendEmail(String recipient, String subject, String body) {

        SimpleMailMessage message = new SimpleMailMessage();

        message.setTo(recipient);

        message.setSubject(subject);

        message.setText(body);

        mailSender.send(message);

    }

}

import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class EmailController {

    private final EmailService emailService;

    public EmailController(EmailService emailService) {
        this.emailService = emailService;
    }

    @PostMapping("/send-emails")
    public void sendEmails(@RequestBody EmailData emailData) {
        // Send email to mental counselor
        emailService.sendEmail(emailData.getMentalCounselorEmail(), "New Email from User", emailData.getMessageToCounselor());

        // Send email to user
        emailService.sendEmail(emailData.getUserEmail(), "Confirmation Email", emailData.getMessageToUser());
    }
}





























function Card({ record }) {

  return (

    <div className="card">

      <h3>{record.title}</h3>

      {record.condition ? <p>{record.details}</p> : null}

    </div>

  );

}

function MyComponent() {

  const [data, setData] = useState([]);

  useEffect(() => {

    // Fetch data from the API endpoint

    axios.get('https://api.example.com/data')

      .then(response => {

        setData(response.data);

      })

      .catch(error => {

        console.log(error);

      });

  }, []);

  // Filter the data based on the condition

  const filteredData = data.filter(item => item.status === 1);

  return (

    <div>

      {filteredData.map(item => (

        <Card key={item.id} record={item} />

      ))}

    </div>

  );

}


















import { useEffect } from 'react';

const MyComponent = () => {

  useEffect(() => {

    const navigationEntries = window.performance.getEntriesByType('navigation');

    const isReloaded = navigationEntries.length && navigationEntries[0].type === 'reload';

    if (isReloaded) {

      // Code to execute after page reload

      console.log('Page reloaded!');

    }

  }, []);

  return <div>My Component</div>;

};

export default MyComponent;




Access to XMLHttpRequest at 'http://localhost:9090/findMC/rohit@gmail.com' from origin 'http://localhost:4000'
has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' 
header is present on the requested resource.










